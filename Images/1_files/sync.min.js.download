var lotameIsCompatible = function() { return ( typeof Object.keys !== 'undefined' && typeof window.postMessage !== 'undefined' && typeof XMLHttpRequest !== 'undefined' && typeof(new XMLHttpRequest().withCredentials) !== 'undefined' && typeof console !== 'undefined' && typeof console.log !== 'undefined' && typeof document.createElement !== 'undefined' ); }; if(!lotameIsCompatible()){ if(console && console.error){ console.error('Lotame: This browser does not meet the minimum requirements.'); } } else { function sync16576_a(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function sync16576_b(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:sync16576_a(a)}}var sync16576_aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},sync16576_c; if("function"==typeof Object.setPrototypeOf)sync16576_c=Object.setPrototypeOf;else{var sync16576_d;a:{var sync16576_ba={Ua:!0},sync16576_e={};try{sync16576_e.__proto__=sync16576_ba;sync16576_d=sync16576_e.Ua;break a}catch(a){}sync16576_d=!1}sync16576_c=sync16576_d?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var sync16576_f=sync16576_c; function sync16576_g(a,b){a.prototype=sync16576_aa(b.prototype);a.prototype.constructor=a;if(sync16576_f)sync16576_f(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.hb=b.prototype}var sync16576_h="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function sync16576_i(a,b){return Object.prototype.hasOwnProperty.call(a,b)} var sync16576_ca="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var f in d)sync16576_i(d,f)&&(a[f]=d[f])}return a},sync16576_j="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)}; function sync16576_k(a,b){if(b){var c=sync16576_h;a=a.split(".");for(var d=0;d<a.length-1;d++){var f=a[d];f in c||(c[f]={});c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&sync16576_j(c,a,{configurable:!0,writable:!0,value:b})}}sync16576_k("Object.assign",function(a){return a||sync16576_ca});function sync16576_l(){sync16576_l=function(){};sync16576_h.Symbol||(sync16576_h.Symbol=sync16576_da)} function sync16576_m(a,b){this.Ka=a;sync16576_j(this,"description",{configurable:!0,writable:!0,value:b})}sync16576_m.prototype.toString=function(){return this.Ka};var sync16576_da=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new sync16576_m("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}(); function sync16576_n(){sync16576_l();var a=sync16576_h.Symbol.iterator;a||(a=sync16576_h.Symbol.iterator=sync16576_h.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&sync16576_j(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return sync16576_ea(sync16576_a(this))}});sync16576_n=function(){}}function sync16576_ea(a){sync16576_n();a={next:a};a[sync16576_h.Symbol.iterator]=function(){return this};return a} sync16576_k("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});sync16576_k("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var f=d.length;c=c||0;for(0>c&&(c=Math.max(c+f,0));c<f;c++){var h=d[c];if(h===b||Object.is(h,b))return!0}return!1}});sync16576_k("Object.entries",function(a){return a?a:function(b){var c=[],d;for(d in b)sync16576_i(b,d)&&c.push([d,b[d]]);return c}}); sync16576_k("Object.values",function(a){return a?a:function(b){var c=[],d;for(d in b)sync16576_i(b,d)&&c.push(b[d]);return c}});sync16576_k("Array.prototype.find",function(a){return a?a:function(b,c){a:{var d=this;d instanceof String&&(d=String(d));for(var f=d.length,h=0;h<f;h++){var g=d[h];if(b.call(c,g,h,d)){b=g;break a}}b=void 0}return b}}); sync16576_k("WeakMap",function(a){function b(e){this.U=(g+=Math.random()+1).toString();if(e){e=sync16576_b(e);for(var k;!(k=e.next()).done;)k=k.value,this.set(k[0],k[1])}}function c(){}function d(e){if(!sync16576_i(e,h)){var k=new c;sync16576_j(e,h,{value:k})}}function f(e){var k=Object[e];k&&(Object[e]=function(l){if(l instanceof c)return l;d(l);return k(l)})}if(function(){if(!a||!Object.seal)return!1;try{var e=Object.seal({}),k=Object.seal({}),l=new a([[e,2],[k,3]]);if(2!=l.get(e)||3!=l.get(k))return!1; l.delete(e);l.set(k,4);return!l.has(e)&&4==l.get(k)}catch(m){return!1}}())return a;var h="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var g=0;b.prototype.set=function(e,k){d(e);if(!sync16576_i(e,h))throw Error("WeakMap key fail: "+e);e[h][this.U]=k;return this};b.prototype.get=function(e){return sync16576_i(e,h)?e[h][this.U]:void 0};b.prototype.has=function(e){return sync16576_i(e,h)&&sync16576_i(e[h],this.U)};b.prototype.delete=function(e){return sync16576_i(e,h)&& sync16576_i(e[h],this.U)?delete e[h][this.U]:!1};return b}); sync16576_k("Map",function(a){function b(){var e={};return e.C=e.next=e.head=e}function c(e,k){var l=e.A;return sync16576_ea(function(){if(l){for(;l.head!=e.A;)l=l.C;for(;l.next!=l.head;)return l=l.next,{done:!1,value:k(l)};l=null}return{done:!0,value:void 0}})}function d(e,k){var l=k&&typeof k;"object"==l||"function"==l?h.has(k)?l=h.get(k):(l=""+ ++g,h.set(k,l)):l="p_"+k;var m=e.T[l];if(m&&sync16576_i(e.T,l))for(e=0;e<m.length;e++){var n=m[e];if(k!==k&&n.key!==n.key||k===n.key)return{id:l,list:m, index:e,g:n}}return{id:l,list:m,index:-1,g:void 0}}function f(e){this.T={};this.A=b();this.size=0;if(e){e=sync16576_b(e);for(var k;!(k=e.next()).done;)k=k.value,this.set(k[0],k[1])}}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),k=new a(sync16576_b([[e,"s"]]));if("s"!=k.get(e)||1!=k.size||k.get({x:4})||k.set({x:4},"t")!=k||2!=k.size)return!1;var l=k.entries(),m=l.next();if(m.done||m.value[0]!=e||"s"!=m.value[1])return!1; m=l.next();return m.done||4!=m.value[0].x||"t"!=m.value[1]||!l.next().done?!1:!0}catch(n){return!1}}())return a;sync16576_n();var h=new WeakMap;f.prototype.set=function(e,k){e=0===e?0:e;var l=d(this,e);l.list||(l.list=this.T[l.id]=[]);l.g?l.g.value=k:(l.g={next:this.A,C:this.A.C,head:this.A,key:e,value:k},l.list.push(l.g),this.A.C.next=l.g,this.A.C=l.g,this.size++);return this};f.prototype.delete=function(e){e=d(this,e);return e.g&&e.list?(e.list.splice(e.index,1),e.list.length||delete this.T[e.id], e.g.C.next=e.g.next,e.g.next.C=e.g.C,e.g.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.T={};this.A=this.A.C=b();this.size=0};f.prototype.has=function(e){return!!d(this,e).g};f.prototype.get=function(e){return(e=d(this,e).g)&&e.value};f.prototype.entries=function(){return c(this,function(e){return[e.key,e.value]})};f.prototype.keys=function(){return c(this,function(e){return e.key})};f.prototype.values=function(){return c(this,function(e){return e.value})};f.prototype.forEach=function(e, k){for(var l=this.entries(),m;!(m=l.next()).done;)m=m.value,e.call(k,m[1],m[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var g=0;return f}); sync16576_k("Promise",function(a){function b(g){this.V=0;this.sa=void 0;this.O=[];var e=this.oa();try{g(e.resolve,e.reject)}catch(k){e.reject(k)}}function c(){this.G=null}function d(g){return g instanceof b?g:new b(function(e){e(g)})}if(a)return a;c.prototype.ya=function(g){if(null==this.G){this.G=[];var e=this;this.za(function(){e.Ya()})}this.G.push(g)};var f=sync16576_h.setTimeout;c.prototype.za=function(g){f(g,0)};c.prototype.Ya=function(){for(;this.G&&this.G.length;){var g=this.G;this.G=[];for(var e= 0;e<g.length;++e){var k=g[e];g[e]=null;try{k()}catch(l){this.Va(l)}}}this.G=null};c.prototype.Va=function(g){this.za(function(){throw g;})};b.prototype.oa=function(){function g(l){return function(m){k||(k=!0,l.call(e,m))}}var e=this,k=!1;return{resolve:g(this.eb),reject:g(this.ra)}};b.prototype.eb=function(g){if(g===this)this.ra(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.fb(g);else{a:switch(typeof g){case "object":var e=null!=g;break a;case "function":e=!0;break a; default:e=!1}e?this.cb(g):this.Da(g)}};b.prototype.cb=function(g){var e=void 0;try{e=g.then}catch(k){this.ra(k);return}"function"==typeof e?this.gb(e,g):this.Da(g)};b.prototype.ra=function(g){this.Ha(2,g)};b.prototype.Da=function(g){this.Ha(1,g)};b.prototype.Ha=function(g,e){if(0!=this.V)throw Error("Cannot settle("+g+", "+e+"): Promise already settled in state"+this.V);this.V=g;this.sa=e;this.Za()};b.prototype.Za=function(){if(null!=this.O){for(var g=0;g<this.O.length;++g)h.ya(this.O[g]);this.O= null}};var h=new c;b.prototype.fb=function(g){var e=this.oa();g.$(e.resolve,e.reject)};b.prototype.gb=function(g,e){var k=this.oa();try{g.call(e,k.resolve,k.reject)}catch(l){k.reject(l)}};b.prototype.then=function(g,e){function k(p,q){return"function"==typeof p?function(r){try{l(p(r))}catch(t){m(t)}}:q}var l,m,n=new b(function(p,q){l=p;m=q});this.$(k(g,l),k(e,m));return n};b.prototype.catch=function(g){return this.then(void 0,g)};b.prototype.$=function(g,e){function k(){switch(l.V){case 1:g(l.sa); break;case 2:e(l.sa);break;default:throw Error("Unexpected state: "+l.V);}}var l=this;null==this.O?h.ya(k):this.O.push(k)};b.resolve=d;b.reject=function(g){return new b(function(e,k){k(g)})};b.race=function(g){return new b(function(e,k){for(var l=sync16576_b(g),m=l.next();!m.done;m=l.next())d(m.value).$(e,k)})};b.all=function(g){var e=sync16576_b(g),k=e.next();return k.done?d([]):new b(function(l,m){function n(r){return function(t){p[r]=t;q--;0==q&&l(p)}}var p=[],q=0;do p.push(void 0),q++,d(k.value).$(n(p.length- 1),m),k=e.next();while(!k.done)})};return b});function sync16576_o(){this.Ca=-1!==window.location.href.indexOf("lotameDebug\x3dtrue");this.name="LT.JS"}sync16576_o.prototype.debug=function(a,b){this.Ca&&a&&"undefined"!==typeof console&&"undefined"!==typeof console.log&&(b?console.log(this.name+": "+a,b):console.log(this.name+": "+a))}; sync16576_o.prototype.error=function(a,b){a&&"undefined"!==typeof console&&"undefined"!==typeof console.error&&(null!=b?console.error(this.name+": "+a,b):console.error(this.name+": "+a))};var sync16576_=new sync16576_o;function sync16576_p(){this.da=23328E3}sync16576_p.prototype.P=function(a,b,c,d){d=void 0===d?this.da:d;document.cookie=a+"\x3d"+b+"; Domain\x3d"+c+"; path\x3d/; SameSite\x3dLax; expires\x3d"+(new Date(Date.now()+1E3*d)).toUTCString()};sync16576_p.prototype.J=function(a){var b=null,c=""+document.cookie;0!==c.length&&(a=c.match(a+"\x3d([^;]*)"),"undefined"!==typeof a&&null!==a&&(b=a[1]));return b};function sync16576_q(a,b,c){a=void 0===a?{}:a;b=void 0===b?{}:b;c=void 0===c?"lotame_":c;this.a=Object.assign({},{bcpClient:16576,audienceExtractionEnabled:!1,consentClientIds:[16576],panoramaIdEnabled:!0,enableAudienceMatching:!1,googleEspEnabled:!1,enableDeclaredIds:!1,enableDeclaredIdsOnEvents:!0,protocol:"https",tagsDomain:"tags.crwdcntrl.net",privacyDomain:"privacy.crwdcntrl.net",firstPartyOnlyDomain:"ltmsphrcl.net",firstPartyOnlyCollectionPrefix:"c",bcpVersion:"6",sharedS3Path:"lt/shared/2", strictConsentEnabled:!1,tcfLotameVendorID:"95",cookieNames:["_cc_id","_cc_aud","_cc_cc"],profileIdCookieName:"_cc_id",panoramaIdName:"panoramaId",panoramaIdTypeName:"panoramaIdType",declaredIdName:"lotame_16576_did",cmpWaitMillis:250,sensitivePrefix:"st"},a);-1!==window.location.href.indexOf("strictConsentEnabled\x3dtrue")&&(this.a.strictConsentEnabled=!0);a=c+"16576";this.a.namespace=window[a];c=this.a.namespace;if(!c)throw"Configuration Error! Please verify that your code and configuration match the specs and check for syntax errors in the console."; b=Object.assign({},{onProfileReady:null,bcpPrefix:"bcp"},b);this.Xa=sync16576_fa(a,c,b);Object.assign(this.a,this.Xa);this.a.iframeOrigin=this.a.protocol+"://tags.crwdcntrl.net";this.a.bcpDomain=this.a.bcpPrefix+".crwdcntrl.net";this.a.sensitiveDomain=this.a.bcpPrefix+"."+this.a.sensitivePrefix+".crwdcntrl.net";this.a.bcpFirstPartyOnlyDomain=this.a.firstPartyOnlyCollectionPrefix+".ltmsphrcl.net";this.a.sensitiveFirstPartyOnlyDomain=this.a.firstPartyOnlyCollectionPrefix+"."+this.a.sensitivePrefix+ ".ltmsphrcl.net";this.a.privacyFirstPartyOnlyDomain=this.a.firstPartyOnlyCollectionPrefix+".ltmsphrcl.net"}function sync16576_ga(a){return!(!a.a.audienceExtractionEnabled||!a.a.enableAudienceMatching||null===a.a.onProfileReady&&!1===a.a.audienceLocalStorage)} function sync16576_fa(a,b,c){var d={},f=Object.keys(c),h=b.config;h&&(Object.keys(h).filter(function(g){return!f.includes(g)}).forEach(function(g){return sync16576_.error("'"+g+"' is an unsupported config option.")}),d=Object.keys(h).filter(function(g){return f.includes(g)}).reduce(function(g,e){switch(e){case "audienceLocalStorage":"boolean"===typeof h[e]?g[e]=h[e]?"lotame_16576_auds":!1:"string"===typeof h[e]?g[e]=h[e]:sync16576_.error("The audienceLocalStorage config option is being ignored as it is neither a boolean nor a string. The default value of false will be used instead."); break;case "onTagReady":"function"!==typeof h[e]?sync16576_.error("The onTagReady config option is being ignored as it is not a function."):g[e]=h[e];break;case "onProfileReady":"function"!==typeof h[e]?sync16576_.error("The onProfileReady config option is being ignored as it is not a function."):g[e]=h[e];break;case "autoRun":"boolean"!==typeof h[e]?sync16576_.error("The autoRun config option is being ignored as it is not a boolean. The default value of true will be used instead."):g[e]=h[e];break; case "bcpPrefix":-1===["bcp","cn"].indexOf(h[e])?sync16576_.error("The bcpPrefix config option is being ignored as it is not valid. The default value of bcp will be used instead."):g[e]=h[e];break;case "clientId":sync16576_.debug("The clientId config option is not needed anymore");break;case "gpc":if(1==h[e])throw'Aborting because "gpc: 1" was present in the page configuration. Subsequent calls to the '+a+" interface will fail.";default:sync16576_.error("'"+e+"' is an unsupported config option.")}return g}, {}));return Object.assign({},c,d)}function sync16576_ha(a){if("undefined"==typeof a.a.cookieDomain){var b=a.a;var c=String(document.domain).toLowerCase();var d=new sync16576_p;var f=c.split(".");if(2==f.length)d=c;else{var h=-2;do{var g=c=f.slice(h).join(".");d.P("lotame_domain_check",g,c,10);d.J("lotame_domain_check")===g?g=!1:(h+=-1,g=Math.abs(h)<=f.length)}while(g);d=c}b.cookieDomain=d}return a.a.cookieDomain}sync16576_q.prototype.H=function(){return JSON.parse(JSON.stringify(this.a))};function sync16576_ia(){sync16576_q.call(this,{lastProfileUpdateMillisKey:"_cc_id_update_ts",profileRefreshMillis:6048E5,autoRunSyncJs:!1,source:"SYNCJS"},{gpc:0},"lotame_sync_")}sync16576_g(sync16576_ia,sync16576_q);var sync16576_ja=new RegExp(/^.{1,64}@.{1,255}$/),sync16576_ka=new RegExp(/^[0-9a-f]{64}$/),sync16576_r=["EMAIL","EE","EMAIL_SHA256"]; function sync16576_s(a){a=void 0===a?{}:a;this.ha=null;this.Z=!1;if(a&&sync16576_t(a)){var b=!1;a&&sync16576_t(a)?"undefined"===typeof a.id||"undefined"===typeof a.type?sync16576_.error("id object must contain both 'id' and 'type' attributes."):2<Object.keys(a).length?sync16576_.error("id object may only contain 'id' and 'type' attributes, got "+Object.keys(a).join(",")):sync16576_r.includes(a.type)?"EMAIL"!=a.type||sync16576_ja.test(a.id)?"EMAIL_SHA256"!=a.type||sync16576_ka.test(a.id)?b=!0:sync16576_.error("supplied id must be valid sha256 hash, was '"+ a.id+"'"):sync16576_.error("supplied id must be valid email address, was '"+a.id+"'"):sync16576_.error("id object type must one of "+sync16576_r.join()+", found '"+a.type+"'"):sync16576_.error("id should be an object");b&&(this.ha=a,this.Z=!0)}else sync16576_.error("idInput should be an object")}sync16576_s.prototype.B=function(){return!(this.Z&&"string"===typeof this.ha)};sync16576_s.prototype.H=function(){return{did:this.ha}};function sync16576_u(a){a=void 0===a?{}:a;this.F=null;if(a=a.thirdParty){var b=!0;"object"!=typeof a&&(b=!1,sync16576_.error("tagInput.data.thirdParty should be an object"));a.namespace||(b=!1,sync16576_.error("tagInput.data.thirdParty.namespace is not defined"));a.value||(b=!1,sync16576_.error("tagInput.data.thirdParty.value is not defined"));a.namespace&&"string"!=typeof a.namespace&&(b=!1,sync16576_.error("tagInput.data.thirdParty.namespace should be defined and have a string as its value"));a.value&& "string"!=typeof a.value&&(b=!1,sync16576_.error("tagInput.data.thirdParty.value should be defined and have a string as its value"));b&&(this.F={},this.F[a.namespace]=a.value)}}function sync16576_v(a){return!!(a.F&&0<Object.keys(a.F).length)}sync16576_u.prototype.ba=function(){return{tp:sync16576_v(this)?this.F:void 0}};sync16576_u.prototype.B=function(){return!sync16576_v(this)}; sync16576_u.prototype.H=function(){if(sync16576_v(this)){var a=null;if(this.F){a={};var b=Object.keys(this.F);a.namespace=b[0];a.value=this.F[b[0]]}}else a=void 0;return{ib:a}};function sync16576_w(a){a=void 0===a?{}:a;sync16576_u.call(this,a);this.j=this.S=this.R=this.s=null;sync16576_la(this,a.behaviorIds);sync16576_ma(this,a.behaviors);sync16576_na(this,a.ruleBuilder);a=a.declaredId;var b;if(b=a)b=!1,a&&sync16576_t(a)?"undefined"===typeof a.id||"undefined"===typeof a.type?sync16576_.error("Declared ID object must contain both 'id' and 'type' attributes."):2<Object.keys(a).length?sync16576_.error("Declared ID object may only contain 'id' and 'type' attributes, got "+Object.keys(a).join(",")): sync16576_r.includes(a.type)?"EMAIL"!=a.type||sync16576_ja.test(a.id)?"EMAIL_SHA256"!=a.type||sync16576_ka.test(a.id)?b=!0:sync16576_.error("In declared ID, supplied id must be valid sha256 hash, was '"+a.id+"'"):sync16576_.error("In declared ID, supplied id must be valid email address, was '"+a.id+"'"):sync16576_.error("Declared ID object type must one of "+sync16576_r.join()+", found '"+a.type+"'"):sync16576_.error("Declared ID should be an object");b&&(this.j=a)}sync16576_g(sync16576_w,sync16576_u); function sync16576_la(a,b){b&&(Array.isArray(b)&&b.every(function(c){return"number"===typeof c})?a.s=b:sync16576_.error("tagInput.data.behaviorIds should be an array of numbers"))} function sync16576_ma(a,b){if(b){var c=!0;"object"!=typeof b&&sync16576_.error("tagInput.data.behaviors should be an object");for(var d=sync16576_b(Object.entries(b)),f=d.next();!f.done;f=d.next()){var h=sync16576_b(f.value);f=h.next().value;h=h.next().value;if(!Array.isArray(h)||!h.every(function(g){return"string"===typeof g})){sync16576_.error("tagInput.data.behaviors."+f+" should be an array of strings");c=!1;break}}c&&(a.R=b)}}function sync16576_x(a){return!!(a.R&&0<Object.keys(a.R).length)} function sync16576_na(a,b){if(b){for(var c=!0,d=sync16576_b(Object.entries(b)),f=d.next();!f.done;f=d.next()){var h=sync16576_b(f.value);f=h.next().value;h=h.next().value;if(!Array.isArray(h)||!h.every(function(g){return"string"===typeof g})){sync16576_.error("tagInput.data.ruleBuilder."+f+" should be an array of strings");c=!1;break}}c&&(a.S=b)}}function sync16576_y(a){return!!(a.S&&0<Object.keys(a.S).length)}function sync16576_z(a){return!!(a.j&&0<Object.keys(a.j).length)} sync16576_w.prototype.ba=function(){return Object.assign({},{b:this.s&&0<this.s.length?this.s:void 0,bt:sync16576_x(this)?this.R:void 0,db:sync16576_y(this)?this.S:void 0,did:sync16576_z(this)?this.j:void 0},sync16576_u.prototype.ba.call(this))};sync16576_w.prototype.B=function(){return!(this.s&&0<this.s.length)&&!sync16576_x(this)&&!sync16576_y(this)&&!sync16576_z(this)&&sync16576_u.prototype.B.call(this)}; sync16576_w.prototype.H=function(){return Object.assign({},{behaviorIds:this.s&&0<this.s.length?this.s:void 0,behaviors:sync16576_x(this)?this.R:void 0,ruleBuilder:sync16576_y(this)?this.S:void 0,declaredId:sync16576_z(this)?this.j:void 0},sync16576_u.prototype.H.call(this))};var sync16576_A;function sync16576_t(a){return"[object Object]"===Object.prototype.toString.call(a)}function sync16576_B(a){return 0===Object.keys(a).length&&a.constructor===Object} function sync16576_oa(a,b){var c=void 0===c?!0:c;b=b||{};var d=Object.assign({method:"GET",Ia:sync16576_C,error:sync16576_C,complete:sync16576_C},b),f=new XMLHttpRequest;f.onreadystatechange=function(){if(4==f.readyState){var h={};if(200==f.status){var g={};try{g=JSON.parse(f.response)}catch(e){sync16576_.error("Could not parse the following response from Lotame's servers: "+f.response)}d.Ia(g,f.statusText,h);d.complete(g,f.statusText,h)}else d.error(h,f.statusText,f.response),d.complete(h,f.statusText, f.response)}};b="undefined"===typeof d.data?"":JSON.stringify(d.data);f.open(d.method,a,!0);f.setRequestHeader("Content-Type","text/plain;charset\x3dUTF-8");c&&(f.withCredentials=!0);f.send(b)}function sync16576_pa(a,b){sync16576_A||(sync16576_A={});sync16576_A.consentGranted||(sync16576_A.consentGranted={});sync16576_A.consentGranted[a]=b} function sync16576_qa(){var a=void 0===a?[]:a;"object"==typeof sync16576_A&&"object"==typeof sync16576_A.consentGranted&&(Object.values(sync16576_A.consentGranted).forEach(function(b){b.apply(null,a)}),sync16576_A.consentGranted={})}function sync16576_C(){}function sync16576_D(){this.u=[]}sync16576_D.prototype.enqueue=function(a){this.u.push(a)};sync16576_D.prototype.B=function(){return 0===this.u.length};function sync16576_E(){this.wa=new sync16576_D} sync16576_E.prototype.enqueue=function(a){sync16576_t(a)&&this.wa.enqueue(new sync16576_w(a))};sync16576_E.prototype.B=function(){return this.wa.B()};function sync16576_ra(a){this.ua=this.Sa=this.Ta=!1;this.Ma="unknown";this.Oa=new sync16576_E;this.Pa=!1;this.Na=a}sync16576_ra.prototype.H=function(){return JSON.parse(JSON.stringify({running:this.Ta,runRequested:this.Sa,pageLoaded:this.ua,dataCollectionEnvironment:this.Ma,internalDataQueue:this.Oa,internalDataQueueBeingProcessed:this.Pa,dataCollectionOnlyUseCase:this.Na}))};function sync16576_F(a){this.f=a;this.Ba=new sync16576_p;this.bb=this.f.a.profileIdCookieName;this.ga=null;this.Ja=this.f.a.cookieNames;this.da=23328E3;this.K="_exp"}function sync16576_G(a){return sync16576_H(a,a.bb)}function sync16576_H(a,b){var c=a.J(b);c||(c=sync16576_I(a,b));return c}function sync16576_J(a,b,c,d){a.P(b,c,void 0===d?a.da:Math.ceil((d-(new Date).getTime())/1E3));sync16576_K(a,b,c,d)}sync16576_F.prototype.P=function(a,b,c){this.Ba.P(a,b,sync16576_ha(this.f),c)}; function sync16576_L(a){if(null===a.ga){try{var b=window.localStorage;b.setItem("__storage_test__","__storage_test__");b.removeItem("__storage_test__");var c=!0}catch(d){c=d instanceof DOMException&&(22===d.code||1014===d.code||"QuotaExceededError"===d.name||"NS_ERROR_DOM_QUOTA_REACHED"===d.name)&&b&&0!==b.length}a.ga=c}return a.ga}function sync16576_K(a,b,c,d){sync16576_L(a)&&(window.localStorage.setItem(b,c||""),void 0!==d&&window.localStorage.setItem(b+a.K,String(d)))} function sync16576_M(a,b){a.J(b)&&a.P(b,"",0);sync16576_N(a,b)}function sync16576_N(a,b){sync16576_L(a)&&(window.localStorage.removeItem(b),window.localStorage.removeItem(b+a.K))}sync16576_F.prototype.J=function(a){return this.Ba.J(a)};function sync16576_I(a,b){return sync16576_L(a)&&(a=window.localStorage.getItem(b+a.K),!a||""===a||(new Date(a)).getTime()>Date.now())?window.localStorage.getItem(b):null} function sync16576_sa(a,b){b&&b.forEach(function(c){var d=c.k,f=c.v;c=c.e;a.P(d,f,c);0<c?sync16576_K(a,d,f):sync16576_N(a,d)})}sync16576_F.prototype.I=function(){var a=this,b=[];a.Ja.forEach(function(c){var d=sync16576_H(a,c);d&&b.push({k:c,v:d})});return b};sync16576_F.prototype.w=function(){return this.f.a.panoramaIdEnabled?sync16576_H(this,this.f.a.panoramaIdName):null};function sync16576_ta(a){return a.f.a.panoramaIdEnabled?sync16576_H(a,a.f.a.panoramaIdTypeName):null} function sync16576_ua(a){return!(!sync16576_G(a)&&!a.w())}function sync16576_va(a,b){var c=!1;if(a=sync16576_I(a,"lotame_"+b+"_consent"))try{var d=Object(JSON.parse(a));if(d&&Array.isArray(d.consent)&&0<d.consent.length&&Array.isArray(d.consent[0].types)){var f=d.consent[0].types.find(function(h){return"analytics"==h.name});f&&(c="boolean"==typeof f.consent?f.consent:!1)}}catch(h){sync16576_.debug("Error parsing stored consent from local storage: lotame_"+b+"_consent")}return c} function sync16576_wa(a,b){b=void 0===b?[]:b;b=sync16576_b([a.f.a.panoramaIdName,""+a.f.a.panoramaIdName+a.K,a.f.a.panoramaIdTypeName,""+a.f.a.panoramaIdTypeName+a.K,a.f.a.declaredIdName,a.f.a.panoramaIdName+"_expiry",a.f.a.panoramaIdName+"_expiry"+a.K].concat(a.Ja,b));for(var c=b.next();!c.done;c=b.next())sync16576_M(a,c.value)};function sync16576_O(a,b){this.f=a;this.storage=b;this.Wa=250;this.Ga=0}sync16576_O.prototype.qa=function(){console.error("Class extending BaseConsentHandler must implement pollForConsent()")};sync16576_h.Object.defineProperties(sync16576_O,{La:{configurable:!0,enumerable:!0,get:function(){return 60}}});function sync16576_P(a,b){this.id=a;this.$a=b}sync16576_P.prototype.ca=function(){var a=this;return{getId:function(){return a.id},getIdType:function(){return a.id?a.$a||"UNKNOWN":null}}};var sync16576_xa=new Map(Object.entries({i:"panoIndiv",c:"panoDevice"}));function sync16576_ya(a){if(null==a)return null;for(var b=sync16576_b(sync16576_xa),c=b.next();!c.done;c=b.next()){var d=sync16576_b(c.value);c=d.next().value;d=d.next().value;if(a===d)return c}return null};function sync16576_Q(a,b){a=a||{};this.f=b||{};this.Y=this.L=this.X=this.ma=this.va=this.ea=null;if(b=a.aud)Array.isArray(b)?this.ea=b:sync16576_.error("profileData.audienceIds should be an array");if(b=a.pid)"string"!==typeof b?sync16576_.error("if defined, profileData.profileId should be a string"):this.va=b;if(b=a.tc)Array.isArray(b)?this.ma=b:sync16576_.error("profileData.targetingCodes should be an array");(b=a.spx)&&!Array.isArray(b)&&sync16576_.error("profileData.syncPixels should be an array"); if(b=a.e)Array.isArray(b)?(this.X=b,Array.isArray(b)&&b.forEach(this.Qa)):sync16576_.error("profileData.errorCodes should be an array");(b=a.exb)&&!Array.isArray(b)&&sync16576_.error("profileData.exportBeaconIds should be an array");sync16576_za(this,a.c);sync16576_Aa(this,a.ids)} function sync16576_za(a,b){if(b)if(Array.isArray(b)){var c=[];b.forEach(function(d){var f=!0,h=d.k,g=d.v,e=d.e;"string"!==typeof h&&(sync16576_.error("profileData.cookies key attribute should be a string but was "+h),f=!1);"string"!==typeof g&&(sync16576_.error("profileData.cookies value attribute should be a string but was "+g),f=!1);"number"!==typeof e&&(sync16576_.error("profileData.cookies expiration attribute should be a number but was "+e),f=!1);f&&c.push(d)});a.L=c}else sync16576_.error("profileData.cookies ("+ b+") should be an array")} function sync16576_Aa(a,b){if(b)if(Array.isArray(b)){var c=[];b.forEach(function(d){var f=!0,h=d.c,g=d.i,e=d.t,k=d.e;"string"!==typeof h&&(sync16576_.error("profileData.ids category attribute should be a string but was "+h),f=!1);"string"!==typeof g&&"core"!==h&&(sync16576_.error("profileData.ids id attribute should be a string but was "+g),f=!1);e&&"string"!==typeof e&&(sync16576_.error("if set, profileData.ids type attribute should be a string but was "+e),f=!1);-1==["undefined","string"].indexOf(typeof k)&& (sync16576_.error("if set, profileData.ids expiry attribute should be a string but was "+k),f=!1);f&&c.push(d)});a.Y=c}else sync16576_.error("profileData.ids ("+b+") should be an array")}function sync16576_Ba(a,b){var c=[];a.ma?c=a.ma:a.ea&&(c=a.ea.join(",").split(","));return"number"===typeof b&&0<b?c.slice(0,b):c}function sync16576_R(a){return(a.Y||[]).find(function(b){return"core"==b.c})}sync16576_Q.prototype.w=function(){var a=sync16576_R(this);return a?a.i:null}; function sync16576_Ca(a){var b=sync16576_R(a);a=b?b.i:null;b?(b=b.t,b=null==b?null:(b=sync16576_xa.get(b))?b:"UNKNOWN"):b=null;return(new sync16576_P(a,b)).ca()}function sync16576_Da(a){return(a.Y||[]).find(function(b){return"did"==b.c})}sync16576_Q.prototype.I=function(){return this.L};function sync16576_Ea(a,b){return(a=(a.Y||[]).find(function(c){return b==c.t&&"sync"==c.c}))?a.i:null} sync16576_Q.prototype.ca=function(){var a=this,b={};return b.getProfileId=function(){return a.va},b.getAudienceString=function(c,d){return(d=sync16576_Ba(a,d))&&d!==[]?d.join(void 0===c?",":c):null},b.getAudiences=function(c){return sync16576_Ba(a,c)},b.getErrorCodes=function(){return a.X},b.getThirdParty=function(c){return sync16576_Ea(a,c)},b.getPanoramaId=function(){return a.w()},b.getPanorama=function(){return sync16576_Ca(a)},b}; sync16576_Q.prototype.Qa=function(a){var b=void 0;switch(a){case 100:b="Audience extraction calls are not enabled.";break;case 101:b="Appropriate consent for audience extraction is not present.";break;case 102:b="Data collection is not enabled.";break;case 103:b="Id syncing is not enabled.";break;case 104:b="Data collection client id validation failed.";break;case 105:b="Audience extraction client id validation failed.";break;case 106:b="Linked parent id for audience extraction is invalid.";break; case 107:b="Aborting because third party cookies are disabled and domain is not configured to use first party storage.";break;case 111:b="Aborting because no consent was present on the request or stored server-side";break;case 112:break;case 113:b="Received Error Code 113";break;case 114:b="Aborting because TCF string was expected but not present.";break;case 115:b="Declared Ids are not enabled for this client - the request contained a Declared ID but the indicated data collection client is not enabled for this feature."; break;case 116:b="The request contained a Declared ID that was not properly formatted.";break;default:b="Unhandled error code "+a+" was received from the data collection call."}b&&sync16576_.error(b)};function sync16576_Fa(a){return Array.isArray(a.X)?!!a.X.some(function(b){return-1!==[102,104,111].indexOf(b)}):!1};function sync16576_S(){this.ia=this.fa=void 0;this.ta=this.ja=this.xa=!1;this.ka=!0;this.D=this.j=this.L=this.u=void 0;this.na=!1;this.la=this.M=this.l=void 0}function sync16576_Ga(){var a=new sync16576_S;a.xa=!1;return a}function sync16576_T(a,b){a.ta=b;return a}function sync16576_U(a,b){a.fa=b;return a}function sync16576_V(a,b){a.ja=b;return a}function sync16576_W(a,b){a.L=b;return a}function sync16576_Ha(a,b){"undefined"!==typeof b&&(a.j=b);return a} function sync16576_X(a,b){"object"===typeof b&&(a.D=b);return a}function sync16576_Y(a,b){"undefined"!==typeof b&&(a.M=b);return a}function sync16576_Z(a,b){"undefined"!==typeof b&&(a.l=b);return a}function sync16576__(a,b){"undefined"!==typeof b&&(a.la=b);return a}function sync16576_0(a){var b=Object.assign({},a.u,sync16576_Ia(a)),c=Object.assign({},{ref:a.ia,pv:a.ta,dcc:a.fa,co:a.na,src:a.la},sync16576_Ja(a));return Object.assign({r:{rpr:a.xa,rpx:a.ka,rid:a.ja},m:c,d:b,c:a.L},sync16576_Ka(a))} function sync16576_1(a){var b=Object.assign({},a.u,sync16576_Ia(a)),c=Object.assign({},{dcc:a.fa,src:a.la},sync16576_Ja(a));return Object.assign({r:{rid:a.ja},m:c,d:b,c:a.L},sync16576_Ka(a))}function sync16576_Ia(a){return"object"===typeof a.j?a.j.H():{}}function sync16576_2(a){return"object"===typeof a.j||"object"===typeof a.u&&"object"===typeof a.u.did} function sync16576_Ka(a){var b="boolean"===typeof a.l,c="string"===typeof a.M;return b||c?{consent:{gdpr_applies:b?a.l:null,gdpr_consent:c?a.M:null}}:{}}function sync16576_Ja(a){var b={};"object"==typeof a.D&&0<Object.keys(a.D||{}).length&&(b.ch=a.D);return b};function sync16576_3(a,b,c){sync16576_O.call(this,a,b);this.N=c;this.M=this.l=null;this.Ra="1 3 5 7 8 9 10".split(" ");this.Aa=null;this.aa={}}sync16576_g(sync16576_3,sync16576_O);function sync16576_4(a){var b=a.M;b||(b=a.storage.J("eupubconsent-v2"));b||(b=a.storage.J("euconsent-v2"));return b} sync16576_3.prototype.qa=function(){var a=this;if("undefined"!==typeof window.__tcfapi)try{window.__tcfapi("addEventListener",2,function(b,c){return sync16576_La(a,b,c)})}catch(b){b&&sync16576_.error("There was a problem using the TCF API: "+b)}else if(sync16576_Ma(this))try{window.__lotameIframeTcfApi("addEventListener",2,function(b,c){return sync16576_La(a,b,c)})}catch(b){b&&sync16576_.error("There was a problem using the TCF IFRAME LOCATOR API: "+b)}else this.Ga<sync16576_3.La&&setTimeout(function(){a.qa(); a.Ga++},this.Wa)};function sync16576_Ma(a){try{var b=window;if(b!==window.top)for(;b;){if(b.frames&&b.frames.__tcfapiLocator)return a.Aa=b,sync16576_Na(a),!0;if(b===window.top)break;b=b.parent}}catch(c){c&&sync16576_.error("There was a problem while setting up the TCF IFRAME LOCATOR API: "+c)}return!1} function sync16576_Na(a){"undefined"===typeof window.__lotameIframeTcfApi&&(sync16576_.debug("Initializing TCF support in an iframe"),window.__lotameIframeTcfApi=function(b,c,d,f){var h=Math.random()+"";b={__tcfapiCall:{command:b,parameter:f,version:c,callId:h}};a.aa[h]=d;a.Aa.postMessage(b,"*")},window.addEventListener("message",function(b){var c={};try{c="string"===typeof b.data?JSON.parse(b.data):b.data}catch(d){}(b=c.__tcfapiReturn)&&"function"===typeof a.aa[b.callId]&&(a.aa[b.callId](b.returnValue, b.success),a.aa[b.callId]=null)},!1))} function sync16576_La(a,b,c){if(c&&b&&("tcloaded"===b.eventStatus||"useractioncomplete"===b.eventStatus)&&(b.tcString&&"string"==typeof b.tcString&&(a.M=b.tcString),b.gdprApplies&&"boolean"==typeof b.gdprApplies&&(a.l=b.gdprApplies),b.vendor&&b.vendor.consents&&b.purpose&&b.purpose.consents&&"object"===typeof b.purpose.consents)){c=!0;for(var d=sync16576_b(a.Ra),f=d.next();!f.done;f=d.next())if(f=f.value,!b.purpose.consents[f]||"boolean"!==typeof b.purpose.consents[f]||!0!==b.purpose.consents[f]){c= !1;break}c&&!0===b.vendor.consents[a.f.a.tcfLotameVendorID]?(a.N.W=!0,sync16576_qa()):(a.N.W=!1,sync16576_Oa(a))}}function sync16576_Oa(a){a.f.a.strictConsentEnabled&&sync16576_ua(a.storage)&&("SYNCJS"==a.f.a.source?sync16576_Pa(a.N,function(){return sync16576_wa(a.storage,[a.f.a.lastProfileUpdateMillisKey])}):sync16576_Qa(a.N,function(){return sync16576_wa(a.storage)}))};function sync16576_Ra(a,b,c){this.f=a||{};this.storage=b||{};this.state=c;this.ab=!(!navigator.userAgent||-1==navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Chrome"));this.Fa=null;this.D=void 0;this.W=!1;a=sync16576_b(this.f.a.consentClientIds);for(b=a.next();!b.done;b=a.next())if(sync16576_va(this.storage,parseInt(b.value,10))){this.W=!0;break}this.h=new sync16576_3(this.f,this.storage,this);this.h.qa()} function sync16576_Qa(a,b){b=void 0===b?sync16576_C:b;var c=!sync16576_ua(a.storage),d=sync16576_Ga();d.ia=sync16576_Sa();d=sync16576_U(sync16576_V(sync16576_T(d,!0),!1),a.f.a.bcpClient);d.na=c;d.ka=!1;c=sync16576_W(sync16576__(sync16576_Y(sync16576_Z(d,a.h.l),sync16576_4(a.h)),a.f.a.source),a.storage.I());sync16576_5(a,c);sync16576_6(a,sync16576_0(c),sync16576_7(a,c),"data",b)} function sync16576_Pa(a,b){b=void 0===b?sync16576_C:b;var c=sync16576__(sync16576_Y(sync16576_Z(sync16576_W(sync16576_T(sync16576_V(sync16576_U(new sync16576_S,a.f.a.bcpClient),!1),!1),a.storage.I()),a.h.l),sync16576_4(a.h)),a.f.a.source);sync16576_5(a,c);sync16576_6(a,sync16576_1(c),sync16576_7(a,c),"map",b)} function sync16576_Ta(a,b){var c=void 0===c?sync16576_C:c;b&&sync16576_t(b)&&!sync16576_B(b)&&!b.B()&&sync16576_8(a).then(function(d){d=sync16576_Ua(a,b,d);sync16576_6(a,sync16576_0(d),sync16576_7(a,d),"data",c)})} function sync16576_Va(a,b,c){c=void 0===c?sync16576_C:c;sync16576_8(a).then(function(d){d=sync16576__(sync16576_Y(sync16576_Z(sync16576_X(sync16576_W(sync16576_T(sync16576_V(sync16576_U(new sync16576_S,a.f.a.bcpClient),!0),!1),a.storage.I()),d),a.h.l),sync16576_4(a.h)),a.f.a.source);if(b){var f=b.ba();sync16576_B(f)||(d.u=f)}sync16576_5(a,d);sync16576_6(a,sync16576_1(d),sync16576_7(a,d),"map",c)})} function sync16576_Sa(){var a=window.location.href,b=a.indexOf("?");-1!==b&&(a=a.substring(0,b));return a}function sync16576_6(a,b,c,d,f){f=void 0===f?sync16576_C:f;sync16576_oa(sync16576_Wa(a,void 0===d?"data":d,c),{method:"POST",data:b,Ia:function(h){a.Fa=new sync16576_Q(h,a.f);f(a.Fa)},error:function(h,g){sync16576_.error("Aborting due to error contacting Lotame's servers. Error reason was '"+(void 0===g?" not provided":g)+"'.")}})} sync16576_Ra.prototype.ping=function(a){if(a&&sync16576_t(a)&&!sync16576_B(a)&&!a.B()){var b=!1;if(!sync16576_Xa(this)){if(window.navigator&&window.navigator.sendBeacon){b=sync16576_Ua(this,a);var c=sync16576_Wa(this,"data",sync16576_7(this,b));sync16576_.debug("Using navigator.sendBeacon() to send the following data on page exit",a);b=navigator.sendBeacon(c,JSON.stringify(sync16576_0(b)))}b||(sync16576_.debug("Falling back to ajax to send the following data on page exit",a),sync16576_Ta(this,a))}}}; function sync16576_Ua(a,b,c){c=void 0===c?{}:c;var d=sync16576_Ga();d.ia=sync16576_Sa();d=sync16576_V(sync16576_U(sync16576_T(d,!1),a.f.a.bcpClient),!1);d.ka=!1;b=b.ba();d.u=b;b=sync16576_ha(a.f)?!1:!0;d.na=b;c=sync16576__(sync16576_Y(sync16576_Z(sync16576_X(sync16576_W(d,a.storage.I()),c),a.h.l),sync16576_4(a.h)),a.f.a.source);sync16576_5(a,c);return c} function sync16576_Ya(a,b,c){c=void 0===c?sync16576_C:c;if(a.f.a.enableDeclaredIds){var d=!1;if(sync16576_t(b)){var f=new sync16576_s(b);(d=f.Z)&&sync16576_8(a).then(function(h){h=sync16576_Ha(sync16576__(sync16576_Y(sync16576_Z(sync16576_X(sync16576_W(sync16576_T(sync16576_V(sync16576_U(new sync16576_S,a.f.a.bcpClient),!1),!1),a.storage.I()),h),a.h.l),sync16576_4(a.h)),a.f.a.source),f);sync16576_6(a,sync16576_1(h),sync16576_7(a,h),"map",c)})}d||sync16576_.error("Call to identify must include a properly formatted ID object.")}else sync16576_.error("Client "+ a.f.a.bcpClient+" is not enabled to declare identifiers. Please contact a Lotame representative.")}function sync16576_Xa(a){return a.f.a.strictConsentEnabled&&!a.W}function sync16576_Wa(a,b,c){return a.f.a.protocol+"://"+a.f.a[c]+"/"+a.f.a.bcpVersion+"/"+b}function sync16576_7(a,b){return a.ab?sync16576_2(b)?"sensitiveFirstPartyOnlyDomain":"bcpFirstPartyOnlyDomain":sync16576_2(b)?"sensitiveDomain":"bcpDomain"} function sync16576_5(a,b){if(a.f.a.enableDeclaredIds&&a.f.a.enableDeclaredIdsOnEvents&&!sync16576_2(b)){a:{a=a.storage;if(a=sync16576_I(a,a.f.a.declaredIdName))try{var c=Object(JSON.parse(a));break a}catch(d){sync16576_.debug("Error parsing declared ID from local storage: "+a)}c=null}c&&(c=new sync16576_s(c),c.Z&&sync16576_Ha(b,c))}} function sync16576_8(a){if("undefined"==typeof a.D){var b={};if("object"==typeof navigator.userAgentData&&"function"==typeof navigator.userAgentData.getHighEntropyValues)return Promise.race([navigator.userAgentData.getHighEntropyValues(["model","platformVersion","fullVersionList"]),new Promise(function(c){return setTimeout(c,10,b)})]);a.D=b}return Promise.resolve(a.D)};function sync16576_Za(a,b){this.enabled=!0===a.a.googleEspEnabled&&!0===a.a.panoramaIdEnabled&&!0;this.storage=b;sync16576_.Ca&&sync16576_.debug("Google Esp Module Enabled: "+this.enabled);!0===this.enabled&&(window.googletag=window.googletag||{cmd:[]},window.googletag.encryptedSignalProviders=window.googletag.encryptedSignalProviders||[])} function sync16576__a(a,b){b=b||"";a.enabled&&window.googletag.encryptedSignalProviders.push({id:"crwdcntrl.net",collectorFunction:function(){sync16576_.debug("panoramaId provided to googleEsp: "+b);return Promise.resolve(b)}})};function sync16576_0a(a,b,c){this.f=a;this.storage=b;this.N=c} function sync16576_1a(a,b){var c=b.I();c&&sync16576_sa(a.storage,c);if(c=(c=sync16576_R(b))?c.e:null){var d=sync16576_Ca(b),f=b.w();d=d?d.getIdType():null;var h=a.f.a.panoramaIdName,g=a.f.a.panoramaIdTypeName,e=parseInt(c,10);sync16576_J(a.storage,h+"_expiry",c,e);"string"===typeof f&&f?sync16576_J(a.storage,h,f,e):sync16576_M(a.storage,h);"string"===typeof d&&d&&"UNKNOWN"!==d?sync16576_J(a.storage,g,d,e):sync16576_M(a.storage,g)}a.f.a.enableDeclaredIds&&a.f.a.enableDeclaredIdsOnEvents&&(b=sync16576_Da(b))&& (b.i?(a=a.storage,sync16576_K(a,a.f.a.declaredIdName,JSON.stringify({id:b.i,type:b.t}))):(a=a.storage,sync16576_N(a,a.f.a.declaredIdName)))}function sync16576_9(a,b){if("function"===typeof a.f.a.onProfileReady)try{(0,a.f.a.onProfileReady)(b.ca())}catch(c){c&&sync16576_.error("The following error occurred in the onProfileReady callback: "+c)}} function sync16576_2a(a){var b=a.f.a.namespace;Array.isArray(b.cmd)?b.cmd.forEach(function(c){if("function"===typeof c)try{c.apply(a)}catch(d){d&&sync16576_.error("The following error occurred when executing queued commands: "+d)}}):b.cmd=[];b.cmd.push=function(c){if("function"===typeof c)try{c.apply(a)}catch(d){d&&sync16576_.error("The following error occurred when executing a command: "+d)}}}function sync16576_$(a,b,c){sync16576_Xa(a.N)?sync16576_pa(b,function(){c()}):c()};function sync16576_3a(){var a=this;this.f=new sync16576_ia;this.state=new sync16576_ra(!sync16576_ga(this.f));this.storage=new sync16576_F(this.f);this.pa=new sync16576_Ra(this.f,this.storage,this.state);this.o=new sync16576_0a(this.f,this.storage,this.pa);this.Ea=new sync16576_Za(this.f,this.storage);"complete"===document.readyState&&(this.state.ua=!0);sync16576_4a(this);sync16576_2a(this.o);var b=this.storage.w();b&&sync16576_$(this.o,"googleEspPanoPush",function(){sync16576__a(a.Ea,b)});!0===this.f.a.autoRunSyncJs&& sync16576_$(this.o,"sync",function(){a.sync({})})} function sync16576_4a(a){var b=a.f.a.namespace;b.getProfileId=function(){return sync16576_G(a.storage)};b.getPanoramaId=function(){return a.storage.w()};b.sync=function(c){return sync16576_$(a.o,"sync",function(){a.sync(c)})};b.setIdentity=function(c){return sync16576_$(a.o,"setIdentity",function(){sync16576_5a(a,c)})};b.getInternalState=function(){return a.state.H()};b.getInternalConfigs=function(){return a.f.H()};b.getPanorama=function(){return(new sync16576_P(a.storage.w(),sync16576_ta(a.storage))).ca()}} sync16576_3a.prototype.sync=function(a){var b=this,c=!0,d=void 0;d=sync16576_t(a)&&!sync16576_B(a)?new sync16576_u(a):new sync16576_u;if(d.B())if(this.f.a.panoramaIdEnabled){if(a=sync16576_H(this.storage,this.f.a.panoramaIdName+"_expiry"),(parseInt(a,10)||0)>Date.now()){c={};c.pid=sync16576_G(this.storage);var f={c:"core"};f.i=this.storage.w();f.t=sync16576_ya(sync16576_ta(this.storage));f.e=a;c.ids=[f];sync16576_9(this.o,new sync16576_Q(c,this.f));c=!1}}else a=sync16576_G(this.storage),f=sync16576_H(this.storage, this.f.a.lastProfileUpdateMillisKey),a&&f&&Date.now()-this.f.a.profileRefreshMillis<f&&(sync16576_9(this.o,new sync16576_Q({pid:a},this.f)),c=!1);c&&sync16576_Va(this.pa,d,function(h){sync16576_K(b.storage,b.f.a.lastProfileUpdateMillisKey,String(Date.now()));sync16576_1a(b.o,h);sync16576_Fa(h)?sync16576_.error("Aborting due to above errors."):sync16576__a(b.Ea,b.storage.w());sync16576_9(b.o,h)})};function sync16576_5a(a,b){sync16576_Ya(a.pa,b,function(c){sync16576_1a(a.o,c)})};sync16576_.name="SYNC.JS";try{new sync16576_3a}catch(a){sync16576_.error(a)};} 